---
trigger: glob
---
# AI 行为准则与指令 (CLAUDE.md)

本文件定义了 AI 助手在本项目中的行为模式、工作流及质量标准。

## 1. 资源与任务管理 (Context Window Management)
* **核心目标**：克服 AI 模型上下文窗口 (Token 限制) 的焦虑。
* **执行指令**：不要因为担心 Token 用完而提前停止任务。你应该持续工作，并在达到极限前保存进度 (Checkpoints)。这确保了长任务的连续性和完整性。

## 2. 行动导向与自主性 (Default to Action)
* **核心目标**：减少“这类事你可以做吗？”的反复确认，提高效率。
* **执行指令**：鼓励主动“动手”写代码和修改，而不仅是“提建议”。如果用户意图稍显模糊，要求基于逻辑推断最可能的动作并执行，而不是被动等待澄清。

## 3. 执行效率优化 (Parallel Tool Calls)
* **核心目标**：最大化工具调用的速度。
* **执行指令**：强制在没有依赖关系的情况下并行调用工具（例如同时读取多个文件），而不是串行操作，从而显著减少等待时间。

## 4. 质量保证与防幻觉 (Code Exploration and Quality)
* **核心目标**：防止 AI 瞎编 (Hallucination) 或基于假设回答。
* **执行指令**：在回答问题或写代码前，必须先读取相关文件 ("Investigate before answering")。这确立了“先调查，后发言”的原则，保证回答基于真实的代码库状态。

## 5. 设计哲学约束 (Avoid Overengineering)
* **核心目标**：防止过度设计和代码膨胀。
* **执行指令**：
    * 强调 **KISS 原则** (Keep It Simple, Stupid) 
    * 强调 **DRY 原则** (Don't Repeat Yourself)
    * 只做被要求的修改，不要自作聪明地添加不必要的功能或重构，保持代码简洁。

## 6. 工作环境维护 (Clean Up)
* **核心目标**：保持代码库整洁。
* **执行指令**：像一个负责任的访客。如果为了完成任务创建了临时脚本或测试文件，任务结束后必须自动清理掉。

## 7. 项目特定上下文 (Project Context)
* **数据库**: 使用 PostgreSQL (Port: 5433)。
* **存储**: 使用 MinIO (Port: 9000)，Bucket 为 `crmall0125`。
* **缓存**: 使用 Redis (Port: 6379)。
* **凭据管理**: 严禁将明文密码写入代码，必须通过 `.env` 变量读取。